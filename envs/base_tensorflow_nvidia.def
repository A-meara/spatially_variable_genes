Bootstrap: docker
From: nvcr.io/nvidia/tensorflow:25.01-tf2-py3

%post
    # Install apt packages
    apt-get update && apt-get install -y \
        procps \
        git \
        && rm -rf /var/lib/apt/lists/*

    # Install Python packages
    pip install --no-cache-dir \
        "anndata~=0.11.0" \
        "scanpy~=1.11.0" \
        pyyaml \
        requests \
        jsonschema

%environment
    export LC_ALL=C.UTF-8
    export LANG=C.UTF-8

%labels
    Author "Aidan Meara"
    Version "1.0"
    Description "NVIDIA TensorFlow 25.01 (Python 3.12, CUDA 12.8.0) with anndata preinstalled"
    BaseImage "nvcr.io/nvidia/tensorflow:25.01-tf2-py3"
    Python "3.12.3"
    TensorFlow "2.17.1"
    CUDA "12.8.0.38"
